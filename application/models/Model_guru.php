 <?php class Model_guru extends CI_Model{public function tampil(){$this->db->where(['level'=>'guru']);return $this->db->get('tb_users')->result();}public function cariguru($p){$this->db->select('*');$this->db->from('tb_users');$this->db->where(['level'=>'guru']);$this->db->like('nama',$p);$this->db->or_like('alamat',$p);$this->db->or_like('telepon',$p);$this->db->or_like('norek',$p);return $this->db->get()->result();}public function detailcariguru(){$id=$this->input->get('id');$k1=$this->input->post('k1');$k1=$this->input->post('k2');$this->db->select('*');$this->db->from('tb_users');$this->db->where(['id_user'=>$this->input->get('id')]);return $this->db->get()->result();}public function saveguru(){$data=['nama'=>$this->input->post('nama'),'telepon'=>$this->input->post('telepon'),'alamat'=>$this->input->post('alamat')];$this->db->insert('tb_guru',$data);$this->session->set_flashdata('pesan','<div class="alert alert-success">Berhasil Menambah Data.!</div>');redirect('guru/index','refresh');}public function tampileditguru($where){$this->db->where($where);return $this->db->get('tb_users',$where)->result();}public function updateguru($where){$data=array('nama'=>$this->input->post('nama_guru'),'telepon'=>$this->input->post('telepon'),'norek'=>$this->input->post('norek'),'alamat'=>$this->input->post('alamat'));$this->db->where($where);$this->db->update('tb_users',$data);$this->session->set_flashdata('pesan','<div class="alert alert-success">Berhasil Perbarui Data.!</div>');redirect('guru/index','refresh');}public function tampildetails($where){$this->db->select('tb_guru.id_guru, tb_guru.nig, tb_guru.nama, tb_guru.alamat, tb_guru.pendidikan, tb_guru.telepon, tb_guru.status_guru');$this->db->from('tb_guru');$this->db->where('tb_guru.id_guru',$where);$query=$this->db->get()->result();return $query;}}